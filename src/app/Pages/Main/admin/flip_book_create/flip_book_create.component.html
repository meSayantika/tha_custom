<div class="content-div">
  <mat-card >
   
 <mat-card-title> 
  <div class="row">
    <div class="col-11">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a style="cursor:pointer;color:#3F51B5" (click)="go_home()">Home</a></li>
      <li class="breadcrumb-item" aria-current="page">Platform Setup</li>
      <li class="breadcrumb-item " aria-current="page">Promotions</li>
      <li class="breadcrumb-item "  aria-current="page">
        <a style="cursor:pointer;color:#3F51B5" (click)="go_to_previous()"> Flip Book </a>
      </li>
    </ol>
  </nav>
  </div>
  <!-- {{getFlipData?.approval_flag}} -->
 <div class="col-1 float-end">
  <!-- <button matTooltip="Preview flip book" (click)="preview()" mat-mini-fab *ngIf="getFlipData?.approve_flag=='A'" >
    <mat-icon>visibility</mat-icon>
  </button> -->
 </div>
  </div>
<!-- <strong> <mat-icon style="vertical-align:-6px">local_phone</mat-icon> Communications</strong> -->
 </mat-card-title> <hr>
 <div class="img_cont">
  <div class="row mb-4">
    <div class="col-4"></div>
    <div class="col-4 text-center">
      <img [src]="url+'/'+getFlipImg[0]?.img_path" height="400" width="400" alt="">
      <label for="">{{getFlipImg[0]?.img_title}}</label>
    </div>
    <div class="col-4"></div>
   </div>
  
   <div class="row mb-5">
    <div class="col-3 text-center" *ngFor="let i of getFlipImg.slice(1); let j=index" >
      <ng-container >
      <img class="mb-2" [src]="url+'/'+i.img_path" alt=""> 
      <label for="" style="display:block" id="lab_{{j}}" (click)="showInp(j,getFlipData.approve_flag)">{{i.img_title}}</label>
     <div class="input-group">
      <input type="text" (input)="changeCaption()" class="form-control" style="display:none" id="inp_{{j}}" [(ngModel)]="i.img_title">
      <button mat-mini-fab color="primary" style="display:none" id="btn_{{j}}" (click)="hideInp(j)">
        <mat-icon >save</mat-icon>
      </button>
     </div>
     
    </ng-container>
      
    </div>
   </div>
 </div>
 
  <!-- <button (click)="show()">Click</button> -->
 <!-- <ul id="demo">
	<li  *ngFor="let i of getFlipImg" >
    
    <img class="mb-2" [src]="url+'/'+i.img_path" alt=""> 
	  <label for="">{{i.img_title}}</label>
  </li>
</ul> -->
<div class="row pb-4" *ngIf="getFlipData.approve_flag=='P'">
  <div class="col-12">
    <label>Upload cover</label>
    <input type="file" name="" class="form-control" (change)="input_cover($event)" id="">
  </div>
</div>
<div class="row pb-4" *ngIf="getFlipData.approve_flag=='P'">
  <div class="col-4">
       <!-- <small id="sml" [ngStyle]="{'background':'linear-gradient(to right,  inner_grad, mid_grad, outer_edge, outer_edge)'}">Hello</small>  -->
        <label>Inner gradient</label> 
    <input type="color" name="" class="form-control" (change)="setGradient()" [(ngModel)]="inner_grad" id="">
  </div>
  <div class="col-4">
    <label>Middle gradient</label>
    <input type="color" name="" class="form-control" (change)="setGradient()" [(ngModel)]="mid_grad" (change)="input_cover($event)" id="">
  </div>
  <div class="col-4">
    <label>Outer edge</label>
    <input type="color" name="" class="form-control" (change)="setGradient()" [(ngModel)]="outer_edge" (change)="input_cover($event)" id="">
  </div>
</div>
<mat-card-actions class="text-center pb-3">
			
  <button mat-raised-button class="btn btn-success" *ngIf="getFlipData.approve_flag=='P'" (click)="approve('A')">Create FlipBook  </button>
  <button mat-raised-button class="btn btn-success" *ngIf="getFlipData.send_flag=='N'" (click)="send_email()"  >Send   </button>
 
 <div class="float-end">
  <button matTooltip="Preview flip book" (click)="preview()" mat-mini-fab *ngIf="getFlipData?.approve_flag=='A'" >
    <mat-icon>visibility</mat-icon>
  </button>
 </div>

</mat-card-actions>
   
 
 </mat-card>

 <div class="mt-5 mainContainer" [ngStyle]="{'background-image': 'url(' + cov + ')'}">
  <div class="book">
    <!-- For Next/Prev Controls -->
    <input type="checkbox" hidden id="c1">
    <input type="checkbox" hidden id="c2">
    <input type="checkbox" hidden id="c3">
    <!-- Book Cover -->
    <div id="cover">
      <!-- <img src="../assets/img1.jpeg" alt="Cover"> -->
    </div>
    <!-- Pages -->
    <div class="flip-book">
      <!-- Page 1 -->
      <div class="flip" id="p1">
        <div class="back" id="back_cov">
          <div class="row">
            <div class="col-6">
              <div class="wrapper">
                <div class="item1">
                  <div class="polaroid "style="height:137px;width:280px">
                    <!-- <img style="height:150px;width:400px" src="https://images.unsplash.com/photo-1471623432079-b009d30b6729?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=750&q=80"> -->
                    <img style="height:130px;width:270px" [src]="url+'/'+img1">
                  </div>
                  <div class="captionNew" style="margin-left:10%">{{cap1}}</div>

                </div>
                <div class="item2">
                  
                  <div class="polaroid" style="height: 114px;
                  width: 250px;
                  top: 10px;
                  margin-top: -25%;">
                    <img style="height: 110px;
                    width: 240px;
                    top: 10px;
                    margin-top: -5;"  [src]="url+'/'+img2">
                    <!-- <div class="caption">Spain</div> -->
                  </div>
                  <div class="captionNew">{{cap2}}</div>

                </div>
              </div>
            </div>
            <div class="col-6  pb-5">
              <div class="wrapper">
            <div class="item">
              <div class="polaroid" >
                <img  [src]="url+'/'+img3">
                <!-- <div class="caption">France</div> -->
              </div>
              <div class="captionNew">{{cap3}}</div>

            </div>
            <div class="item">
              <div class="polaroid" style="margin-top:-20%">
                <img  [src]="url+'/'+img4">
                <!-- <div class="caption">Spain</div> -->
              </div>
              <div class="captionNew">{{cap4}}</div>

            </div>
          </div>
            </div>
          </div>
          
          <label for="c1" class="back-btn" (click)="checkFlag()">
          Back
          </label>
        </div>
        <div class="front" >
          <div id="cover">
            <!-- <img src="../assets/front-cover.png" alt="Cover" style="margin-left:-5%"> -->
            <img [src]="url+'/'+coverImg" alt="Cover" style="margin-left:-7%">
          </div>
          <label for="c1" class="next-btn"  (click)="checkFlag()">Next</label>
          <!--  -->
         
          <!--  -->
        </div>
      </div>
      <!-- Page 2 -->
      <div class="flip" id="p2">
        <div class="back1 ">
          <!-- <img src="../assets/img3.jpeg" alt=""> -->
          <h1 class="mt-5" style="justify-content:center">Would you like to add a few more pages?</h1>
          <!-- The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested. Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in their exact original form, accompanied by English versions from the 1914 translation by H. Rackham. -->
          
          <label for="c2" class="back-btn"  (click)="checkFlag()">
            Back
          </label>
        </div>
        <div class="front" id="front_cov" >
          <div class="row">
            <div class="col-6">
              <div class="wrapper">
            
                <div class="item1">
                  <div class="polaroid"   style=" height: 160px;
                  width: 300px;
                  top: 10px;
                  margin-top: -6%;">
                    <img tyle="    height: 150px;
                    width: 280px;
                    top: 10px;
                    margin-top: 4%;"  [src]="url+'/'+img5">
                    <!-- <div class="caption text-dark" style="color:black">France</div> -->
                  </div>
              <div class="captionNew">{{cap5}}</div>

                </div>
                
                <div class="item2">
                  <div class="polaroid" style="margin-top:-36%; width:140px;height:140px">
                    <img style="margin-top:0%;; width:130px;height:130px"  [src]="url+'/'+img6">
                    <!-- <div class="caption text-dark" style="color:black">Spain</div> -->
                  </div>
              <div class="captionNew">{{cap6}}</div>

                </div>
              </div>
              
            </div>
            <div class="col-6">
              <div class="wrapper">
            
                <div class="item">
                  <div class="polaroid">
                    <img  [src]="url+'/'+img7">
                    <!-- <div class="caption text-dark" style="color:black">France</div> -->
                  </div>
              <div class="captionNew">{{cap7}}</div>

                </div>
                
                <div class="item" >
                  <div class="polaroid" style="margin-left:-60%;height:150px;width:260px; margin-top:-35%">
                    <img style="height:140px;width:250px"  [src]="url+'/'+img8">
                    <!-- <div class="caption text-dark" style="color:black">Spain</div> -->
                  </div>
              <div class="captionNew">{{cap8}}</div>

                </div>
              </div>
              
            </div>
          </div>
       
          
          <label for="c2" class="next-btn"  (click)="checkFlag()">Next</label>
        </div>
      </div>
      <!-- Page 3 -->
      <div class="flip" id="p3">
        <div class="back" >
          <img src="../assets/back_cover.png" alt="Cover" height="500" width="500" >
          
          <label for="c3" class="back-btn"  (click)="checkFlag()">Back</label>
        </div>
        <div class="front1">
          <!-- <h2>Page 3</h2> -->
         <h1 class="mt-5"> Yes I would like to add a few more... </h1> 
          <label for="c3" class="next-btn"  (click)="checkFlag()">Next</label>
        </div>
      </div>
    </div>
  </div>
 </div>

 <div class="fab-main">
  <button matTooltip="Back" mat-mini-fab (click)="go_to_previous()"> <mat-icon>arrow_back</mat-icon> </button>

    </div>
